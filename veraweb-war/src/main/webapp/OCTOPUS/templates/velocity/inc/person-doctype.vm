<form id="formlist" name="formlist" action="${paths.staticWeb}do/ShowPersonDoctypeList" method="post">
<input type="hidden" name="id" value="$!person.id">
<input type="hidden" name="start" value="">
<input type="hidden" name="limit" value="">
<input type="hidden" name="selectAll" value="false">
<input type="hidden" name="selectNone" value="false">
<input type="hidden" name="doUpdate" value="true">
<input type="hidden" name="doRemove" value="true">

#foreach($bean in $list)
#if($bean.id)
<input type="hidden" name="list" value="$bean.id">
#end
#end


    #if($grants.mayWrite())
        <span id="actionPanel" class="inlineLabel">
            <label>Markierte(n) Dokumenttyp(en)
                <input type="submit" title="markierte Einträge entfernen" value="Löschen" name="remove">
            </label>
		</span>

		<span id="buttonPanel-top" class="textRight floatRight">
         <input id="buttonMain" class="mainButton" type="button" onclick="window.location.href='${paths.staticWeb}do/CreateAllPersonDoctypes?id=$!person.id';" value="Alle erzeugen" name="create">
            <input class="mainButton" type="submit" value="Änderungen speichern" name="save">
		</span>
    #end


    <table class="notBold">
	<tr>
        <th class="textCenter smallCell"><input type="checkbox" name="" id="toggleAllSelect" #if($listparam.count > 0 && $listselection.size() == $listparam.count) checked#end title="Alle (de)markieren" #if(!$grants.mayWrite()) disabled="true"#end /></th>
        <th>Dokumenttyp</th>
        <th class="textCenter smallCell">Anschrift</th>
        <th class="textCenter smallCell">Zeichensatz</th>
        <th class="textCenter smallCell">Bearbeiten</th>
	</tr>
	#foreach($bean in $list)
	<tr>
		<td class="textCenter"><input type="hidden" id="${bean.id}-modified" name="${bean.id}-modified" value="false"><input type="checkbox" name="${bean.id}-select" value="true" class="checkbox" #if($listselection.indexOf($bean.id) != -1) checked#end></td>
		#if($bean.id)
		<td #if($bean.id) onclick="window.location.href='${paths.staticWeb}do/ShowPersonDoctype?persondoctype-id=$!bean.id';"#else onclick="window.location.href='${paths.staticWeb}do/CreatePersonDoctype?doctype-id=$!bean.doctypeId';"#end><input type="hidden" name="${bean.id}-id" value="$!bean.id"><input type="hidden" name="${bean.id}-person" value="$!bean.person">$!bean.name</td>
		#else
		<td #if($bean.id) onclick="window.location.href='${paths.staticWeb}do/ShowPersonDoctype?persondoctype-id=$!bean.id';"#else onclick="window.location.href='${paths.staticWeb}do/CreatePersonDoctype?doctype-id=$!bean.doctypeId';"#end><input type="hidden" name="${bean.id}-id" value="$!bean.id"><input type="hidden" name="${bean.id}-person" value="$!bean.person">$!bean.name</td>
		#end
		<td>
			<select id="${bean.id}-addresstype" name="${bean.id}-addresstype" onchange="setModified('${bean.id}')" #if(!$bean.id) disabled #end>
			#if($bean.addresstype && $bean.addresstype != 0)
				<option value="1" #if($bean.addresstype == 1) selected#end>$!config.business</option>
				<option value="2" #if($bean.addresstype == 2) selected#end>$!config.private</option>
				<option value="3" #if($bean.addresstype == 3) selected#end>$!config.other</option>
			#else
				<option value="1" #if($bean.doctypeAddresstype == 1) selected#end>$!config.business</option>
				<option value="2" #if($bean.doctypeAddresstype == 2) selected#end>$!config.private</option>
				<option value="3" #if($bean.doctypeAddresstype == 3) selected#end>$!config.other</option>
			#end
			</select>
		</td>
		<td>
			<select id="${bean.id}-locale" name="${bean.id}-locale" class="combobox" style="width: 99%;" onchange="setModified('${bean.id}')" #if(!$bean.id) disabled #end>
				#if($bean.locale && $bean.locale != 0)
				<option value="1" #if($bean.locale == 1) selected#end>$!config.latin</option>
				<option value="2" #if($bean.locale == 2) selected#end>$!config.extra1</option>
				<option value="3" #if($bean.locale == 3) selected#end>$!config.extra2</option>
				#else
				<option value="1" #if($bean.doctypeLocale == 1) selected#end>$!config.latin</option>
				<option value="2" #if($bean.doctypeLocale == 2) selected#end>$!config.extra1</option>
				<option value="3" #if($bean.doctypeLocale == 3) selected#end>$!config.extra2</option>
				#end
			</select>
		</td>
		#if($bean.id)
		<td class="textCenter">
		## 2009-05-07 c.klein
		## refactored parameterization as part of fix for issue #1528
			#if($grants.mayWrite())
			<a href="${paths.staticWeb}do/ShowPersonDoctype?persondoctype-id=$!bean.id"><img src="${paths.staticWeb}images/edit.png" alt="icon" /></a>
			#else
			<a href="${paths.staticWeb}do/ShowPersonDoctype?persondoctype-id=$!bean.id"><img src="${paths.staticWeb}images/view.png" alt="icon" /></a>
			#end
		</td>
		#else
		## 2009-05-07 c.klein
		## refactored parameterization as part of fix for issue #1528
		<td>
			#if($grants.mayWrite())
## 2009-05-07 cklein
## introduced createOne as part of issue #1528
			<a href="${paths.staticWeb}do/CreatePersonDoctype?doctype-id=$!bean.doctypeId">erzeugen</a>
## 2009-05-07 cklein
## non existing doctypes cannot be viewed as part of issue #1528
##			#else
##			<a href="${paths.staticWeb}do/ShowPersonDoctype?id=$!person.id&persondoctype-doctype=$!bean.doctypeId">anschauen</a>
			#end
		</td>
		#end
	</tr>
	#end

    #set($itemName = "Dokumenttypen")
    #parse("inc/list-navi-new.vm")
</table>

#if ($listparam.count == 0)
	<br>Keine Daten gefunden.
#end


</form>