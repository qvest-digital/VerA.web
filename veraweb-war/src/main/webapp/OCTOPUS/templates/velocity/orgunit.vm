#set($activeMenu = "Administration")
## $Id$
#set($title = "Verwaltung - alle Mandanten")
#parse("inc/header.vm")	
<form id="formlist" name="formlist" action="$octopusRequest.task" method="POST">
    
	#if($listerrors && $listerrors.size() > 0)
    <vera-warn>
    	#foreach($error in $listerrors)
    		$error<br>
    	#end
    </vera-warn>
    #end

<div id="content_container"> 	
	
	<h1>Mandanten</h1>
	
    <div class="tabs contentBox grayBorder marginBottom10 marginTop20" id="main_content">
		<div class="event" id="tabsMain">
			<ul vera-tab-group="" class="gray-gradient"> <!-- Bitte das End-tag der <li>s immer mit in die nächste Zeile nehmen (verhindert Mozilla styling bug) -->
				<li vera-tab-default="" vera-tab="mandanten" class="active">Mandanten
				</li><li class="inactive"><a href="OrgunitCleanup" class="noBorder">Datenbank</a>
				</li>
			</ul>
		</div>
		
        <input type="hidden" name="start" value="">
        <input type="hidden" name="selectNone" value="true">
        <input type="hidden" name="doInsert" value="true">
        <input type="hidden" name="doUpdate" value="true">
        <input type="hidden" name="doRemove" value="true">
        #if($order)
        <input type="hidden" name="order" value="$order">
        #end
        
        #foreach($bean in $list)
        <input type="hidden" name="list" value="$bean.id">
		#end
		
		<div class="contentBoxColored tabsContent" vera-content="mandanten">
		
    		<span class="inlineLabel" id="actionPanel">
            	<strong>Markierte(n) Mandanten</strong>
            	<input type="submit" onclick="return confirm('Markierte(n) Mandanten wirklich löschen?');" title="Markierte(n) Mandanten löschen" name="remove" value="L&ouml;schen" >
            </span>
            <table>
            	<tr>
            		<th class="smallCell textCenter">&nbsp;</th>
            		<th class="smallCell textCenter">ID</th>
            		<th><a href="?order=name">Mandant</a></th>
            	</tr>
            	<tr>
            		<td class="textCenter"><input type="hidden" id="add-modified" name="add-modified" value="false"><input type="checkbox" name="add-select" value="true"  style="display: none;"></td>
            		<td class="textCenter"><input type="hidden" name="add-id" value=""><em>neu</em></td>
            		<td><input type="text" name="add-name" value="" onchange="setModified('add')"></td>
            	</tr>
				#foreach($bean in $list)
                 #if ($velocityCount % 2 == 1)
                  #set($class = "list1")
                 #else
                  #set($class = "list2")
                 #end
            	<tr>
            		<td class="textCenter"><input type="hidden" id="${bean.id}-modified" name="${bean.id}-modified" value="false"><input type="checkbox" name="${bean.id}-select" value="true"></td>
            		<td class="textCenter"><input type="hidden" name="${bean.id}-id" value="$!bean.id">$!{bean.id}</td>
            		<td><input type="text" name="${bean.id}-name" value="$!message.text($bean.name)" onchange="setModified('${bean.id}')"></td>
            	</tr>
				#end
					#if ($listparam.count == 0)
						<tr>
							<td colspan="3">Es wurden keine Daten gefunden</td>
						</tr>
					#end
            </table>
            
           
            	#parse("inc/list-navi.vm")
            	#parse("inc/list-direct.vm")
    			        
        </div>
    			<span id="buttonPanel-bottom" class="floatRight marginTop10">
    			<!-- Show the save button -->
    				<input type="submit" name="save" value="Speichern" title="Speichern" class="mainButton">
    			</span>			
        
    </div><!-- End ID=main_content-->


</div>

</form>

#parse("inc/footer.vm")