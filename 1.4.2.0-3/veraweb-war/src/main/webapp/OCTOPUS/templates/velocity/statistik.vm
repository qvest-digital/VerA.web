#set($activeMenu = "Veranstaltungen")
#set($title = "Statistik erstellen")
#parse("inc/header.vm")

<div id="content_container">
	<div id="breadcrumb" class="textRight marginBottom10">
		<strong>Sie sind hier:</strong> <span><a href="${paths.staticWeb}do/" title="Zur Startseite">Home</a> > Veranstaltungen > Statistiken</span>
	</div>

	<form id="formlist" name="formlist" action="" method="get" target="" onsubmit="return exportStatistik();">
    	<input type="hidden" id="a" name="a" value="statistik">
    	
    	<h1>Statistiken</h1>
    	
    	<div id="main_content" class="contentBoxColored grayBorder">
    	
    		<div class="table width100">
    			<div class="tableRow">
    				<div class="tableCell width50">
    					<h2>Statistik auf folgenden Zeitrahmen einschr&auml;nken:</h2>
    					
    					<label for="begin">Zeitrahmen-Beginn</label>
    					<input type="text" name="begin" placeholder="TT.MM.JJJJ" id="begin" class="datepicker">
    					<span id="showBegin" class="datepickerContainer"><img src="${paths.staticWeb}images/calendar.png" alt="Datum ausw&auml;hlen" title="Datum ausw&auml;hlen"></span>
    					<script type="text/javascript">
    					    Calendar.setup({
    							inputField     :    "begin",
    							button         :    "showBegin",
    							ifFormat       :    "%d.%m.%Y",
    							showsTime      :    false
    						});
    					</script>
    			##		&nbsp; &nbsp;
    			##		(<a href="javascript:document.getElementById('begin').value='$!message.date("DATE", $firstDayInMonth)'; document.getElementById('end').value='$!message.date("DATE", $lastDayInMonth)';">aktuellen Monat einf&uuml;gen</a>)
    					<label for="end">Zeitrahmen-Ende</label>
    					<input type="text" name="end" placeholder="TT.MM.JJJJ" id="end" class="datepicker">
    					<span id="showEnd" class="datepickerContainer"><img src="${paths.staticWeb}images/calendar.png" alt="Datum ausw&auml;hlen" title="Datum ausw&auml;hlen"></span>
    					<script type="text/javascript">
    					    Calendar.setup({
    							inputField     :    "end",
    							button         :    "showEnd",
    							ifFormat       :    "%d.%m.%Y",
    							showsTime      :    false
    						});
    					</script>
    				</div>
    				
    				<div class="tableCell width50 inlineLabel statisticsType">
    					<script type="text/javascript">
    						function exportStatistik() {
    							if (document.getElementById('formlist').statistik[0].checked) {
    								document.getElementById('formlist').action = 'StatistikExport';
    								document.getElementById('formlist').target = '_blank';
    								document.getElementById('a').value = 'statistik';
    							} else if (document.getElementById('formlist').statistik[1].checked) {
    								document.getElementById('formlist').action = 'StatistikExport';
    								document.getElementById('formlist').target = '_blank';
    								document.getElementById('a').value = 'statistik';
    							} else if (document.getElementById('formlist').statistik[2].checked) {
    								document.getElementById('formlist').action = 'StatistikExport';
    								document.getElementById('formlist').target = '_blank';
    								document.getElementById('a').value = 'statistik';
    							} else if (document.getElementById('formlist').statistik[3].checked) {
    								document.getElementById('formlist').action = 'StatistikPersonSearch';
    								document.getElementById('formlist').target = '';
    								document.getElementById('a').value = 'statistikHost';
    							} else if (document.getElementById('formlist').statistik[4].checked) {
    								document.getElementById('formlist').action = 'StatistikPersonSearch';
    								document.getElementById('formlist').target = '';
    								document.getElementById('a').value = 'statistikGuest';
    							} else if (document.getElementById('formlist').statistik[5].checked) {
    								document.getElementById('formlist').action = 'StatistikExport';
    								document.getElementById('formlist').target = '_blank';
    								document.getElementById('a').value = 'statistik';
    							} else {
    								showWarning('UNKNOWN');
    								return false;
    							}
    						}
    					</script>
    			
    					<h2>Statistiktyp ausw&auml;hlen:</h2>
    					
    					<input type="radio" id="EventsPerYear" name="statistik" value="EventsPerYear" checked><label for="EventsPerYear">
    					Gesamt&uuml;bersicht &uuml;ber die Anzahl der Veranstaltungen pro Jahr.</label><br />
    					
    					<input type="radio" id="EventsPerMonth" name="statistik" value="EventsPerMonth"><label for="EventsPerMonth">
    					Gesamt&uuml;bersicht &uuml;ber die Anzahl der Veranstaltungen pro Monat.</label><br />
    					
    					<input type="radio" id="EventsGroupByHost1" name="statistik" value="EventsGroupByHost"><label for="EventsGroupByHost1">
    					Gesamt&uuml;bersicht &uuml;ber alle Veranstaltungen, gruppiert nach Gastgeber.</label><br />
    					
    					<input type="radio" id="EventsGroupByHost2" name="statistik" value="EventsGroupByHost"><label for="EventsGroupByHost2">
    					&Uuml;bersicht &uuml;ber alle Veranstaltungen eines Gastgebers (mit Suche).</label><br />
    					
    					<input type="radio" id="EventsGroupByGuest" name="statistik" value="EventsGroupByGuest"><label for="EventsGroupByGuest">
    					&Uuml;bersicht &uuml;ber alle Veranstaltungen eines Gastes (mit Suche).</label><br />
    					
    					<input type="radio" id="EventsGroupByLocation" name="statistik" value="EventsGroupByLocation"><label for="EventsGroupByLocation">
    					&Uuml;bersicht &uuml;ber alle Veranstaltungen sortiert nach Veranstaltungsort.</label>
    				</div>
    			</div>
    		</div>
    		
    	
    	</div>
    
    	<div class="textRight marginTop10">
    		<input type="submit" class="mainButton" name="create" value="Statistik erstellen" title="Statistik erstellen" />
    	</div>
	
	</form>
</div>
#parse("inc/footer.vm")