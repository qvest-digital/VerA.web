#set($activeMenu = "Veranstaltungen")

#if($action == "guest")
	#set($title = "Veranstaltung suchen - Veranstaltung: $!message.plain($event.shortname)")
#elseif($action == "addperson")
	#set($title = "Veranstaltung suchen - Person zuordnen")
#else
	#set($title = "Veranstaltung suchen")
#end

#set($elementNameSex = "female")
#set($elementNameSingular = "Veranstaltung")
#set($elementNamePlural = "Veranstaltungen")
#parse("inc/header.vm")

#if($action == "guest")
	#set($formurl = "AddEventToEventList")
#else
	#set($formurl = "SearchEvent")
#end

<div id="content_container">
	<div id="breadcrumb" class="textRight marginBottom10">
		<strong>${placeholderWithTranslation.Siesindhier}</strong> <span><a href="${paths.staticWeb}do/" title="${placeholderWithTranslation.ZurStartseite}">${placeholderWithTranslation.Home}</a> > ${placeholderWithTranslation.Veranstaltungen} > ${placeholderWithTranslation.Veranstaltungssuche}</span>
	</div>

	<h1>${placeholderWithTranslation.Veranstaltungssuche}</h1>

	<form action="$formurl" method="post" id="eventSearch_form">
	<input type="hidden" name="start" value="0">
	<input type="hidden" name="selectAll" value="false">
	<input type="hidden" name="selectNone" value="true">

	<input type="hidden" name="search" value="reset">
	<input type="hidden" name="searchTask" value="eventSearchTask">

	<div id="main_content" class="contentBoxColored grayBorder marginBottom20">

			<h2>${placeholderWithTranslation.Suche}</h2>

				<fieldset style="border: none; padding-top: 0;">
					<legend class="noDisplay">${placeholderWithTranslation.Veranstaltung}</legend>

					<div class="table width100">
						<div class="tableRow">
							<div class="tableCell width30">
								<label for="input.shortname">${placeholderWithTranslation.Kurzbezeichnung}</label>
								<input type="text" name="shortname" id="input.shortname" value="">
							</div>
							<div class="tableCell width30">
								<label for="begin">${placeholderWithTranslation.DatumBeginn}</label>
								<div class="calenderContainer">
									<input type="text" name="begin" value="" id="begin" class="datepicker">
									<span id="show-begin" class="datepickerContainer"><img src="${paths.staticWeb}images/calendar.png" alt="${placeholderWithTranslation.Datumauswahlen}" title="${placeholderWithTranslation.Datumauswahlen}"></span>
									<script type="text/javascript">
									    Calendar.setup({
											inputField     :    "begin",
											button         :    "show-begin",
											ifFormat       :    "%d.%m.%Y",
											showsTime      :    false
										});
										var input = $('input[name=begin]');
										var span = $('span#show-begin');
										input.focus(function () {
											span.trigger('click');
										});
									</script>
								</div>
							</div>
							<div class="tableCell width30">
								<label for="eventname">${placeholderWithTranslation.Name}</label>
								<textarea name="eventname" id="eventname" value=""></textarea>
							</div>
						</div>
						<div class="tableRow">
							<div class="tableCell width30">
								<label for="hostname">${placeholderWithTranslation.Gastgeber}</label>
								<input type="text" name="hostname" id="hostname" value="">
							</div>
							<div class="tableCell width30">
								<label for="location">${placeholderWithTranslation.Veranstaltungsort}</label>
                                <select name="location" id="location">
                                    <option value=""></option> ##get all locations
                                    #foreach($location in $allLocation)
                                        <option value="$location.get('id')">$!message.plain($location.get("name"))</option>
                                    #end
                                </select>
							</div>
							<div class="tableCell width30">
								<label for="current">${placeholderWithTranslation.NurinzuunftigenVeranstaltungensuchen}</label>
								<input type="checkbox" id="current" name="current" value="true" checked>
							</div>
						</div>
					</div>
				</fieldset>

				<div id="buttonPanel-bottom" class="textRight">
					#if($action == "guest")
						<input id="button.startSearch" type="submit" class="mainButton" value="${placeholderWithTranslation.Suchen}" title="${placeholderWithTranslation.Suchen}" />
						<input type="reset"  class="mainButton" value="${placeholderWithTranslation.Felderleeren}" title="${placeholderWithTranslation.Felderleeren}" />
						<input type="button" class="mainButton"  name="cancel" value="${placeholderWithTranslation.Zuruck}" title="${placeholderWithTranslation.Zuruck}" onclick="window.location.href='ShowGuestList?selectNone=true';" />
					#elseif($action == "addperson")
						<input id="button.startSearch" type="submit" class="mainButton" value="${placeholderWithTranslation.Suchen}" title="${placeholderWithTranslation.Suchen}" />
						<input type="reset"  class="mainButton" value="${placeholderWithTranslation.Felderleeren}" title="${placeholderWithTranslation.Felderleeren}" />
						<input type="button" class="mainButton"  name="cancel" value="${placeholderWithTranslation.Zuruck}" title="${placeholderWithTranslation.Zuruck}" onclick="window.location.href='ShowPerson';" />
					#else
						<input id="button.startSearch" type="submit" class="mainButton" value="${placeholderWithTranslation.Suchen}" title="${placeholderWithTranslation.Suchen}" />
						<input type="reset"  class="mainButton" value="${placeholderWithTranslation.Felderleeren}" title="${placeholderWithTranslation.Felderleeren}" />
					#end
				</div>

		</div>

		<vera-info vera-stay>
			${placeholderWithTranslation.SiekonnenbeiderSuchesogenanntePlatzhalterverwendenderstehtfurmehrereunddasfureinzelneZeichen}
		</vera-info>

		##<br><a href="SearchEvent?search=current">Aktuelle Veranstaltungen anzeigen</a><br><br>

</form>
</div>
#parse("inc/footer.vm")
