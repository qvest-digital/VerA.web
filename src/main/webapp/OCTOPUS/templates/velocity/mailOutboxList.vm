#set($activeMenu = "Administration")
#set($title = "E-Mail-Postausgang")
#set($elementNameSex = "female")
#set($elementNameSingular = "E-Mail")
#set($elementNamePlural = "E-Mails")

##Values in per cent for table columns width
#set($column0 = 3)
#set($column1 = 11)
#set($column2 = 27)
#set($column3 = 27)
#set($column4 = 40)

#parse("inc/header.vm")

<form id="formlist" name="formlist" action="MailOutboxList" method="POST">
    <input type="hidden" name="start" value=""/>
    <input type="hidden" name="selectNone" value="true"/>
    <input type="hidden" name="doRemove" value="true"/>
    <input type="hidden" name="limit" value="" />

    <div id="content_container">
		<div class="textRight marginBottom10" id="breadcrumb">
			<strong>${placeholderWithTranslation.Siesindhier}:</strong> <span><a href="${paths.staticWeb}do/" title="${placeholderWithTranslation.ZurStartseite}">${placeholderWithTranslation.Home}</a> > ${placeholderWithTranslation.Administration} > ${placeholderWithTranslation.EMailPostausgang}</span>
		</div>

		<div id="main_content">
    		<h1>${placeholderWithTranslation.EMailPostausgang}</h1>

    		#foreach($bean in $list)
    			<input type="hidden" name="list" value="$bean.id"/>
            #end

    		<span id="actionPanel" class="inlineLabel">
    			<strong>${placeholderWithTranslation.MarkierteEMails}</strong>
    	       	<input type="submit" name="remove" value="${placeholderWithTranslation.Loeschen}" title="${placeholderWithTranslation.MarkierteEMailsloeschen}"/>
    	    </span>

    		<table class="fixed">
    			##Set column size
				<col width="$column0%" />
   				<col width="$column1%" />
   				<col width="$column2%" />
   				<col width="$column3%" />
   				<col width="$column4%" />

        		<tr>
        			<th class="smallCell textCenter"><input type="checkbox" name="toggleAllSelect" id="toggleAllSelect" title="${placeholderWithTranslation.Alledemarkieren}"/></th>
        			<th class="smallCell textCenter">${placeholderWithTranslation.Status}</th>
        			<th>Von</th>
        			<th>An</th>
        			<th class="width50">${placeholderWithTranslation.Betreff}</th>
        		</tr>
                #foreach($bean in $list)
    	        	<tr>
    					<td class="textCenter"><input type="hidden" value="$bean.id" name="${bean.id}-id"/><input type="checkbox" value="true" name="${bean.id}-select"/></td>
    					<td class="textCenter" onclick="window.location.href='MailOutboxDetail?id=$!{bean.id}';">
    					      #if($bean.status == 1)${placeholderWithTranslation.Offen}
    					      #elseif($bean.status == 2)${placeholderWithTranslation.Wartet}
    					      #elseif($bean.status == 3)${placeholderWithTranslation.Wirdversendet}
    					      #elseif($bean.status == 4)${placeholderWithTranslation.Gesendet}
    					      #elseif($bean.status > 10)<span style="font-weight: bold; color: #ff0000;">${placeholderWithTranslation.Fehler}</span>
    					      #else<em>${placeholderWithTranslation.unbekannt}</em>
    					      #end
    						</td>
    					<td onclick="window.location.href='MailOutboxDetail?id=$!{bean.id}';">$!message.text($bean.from)</td>
    					<td onclick="window.location.href='MailOutboxDetail?id=$!{bean.id}';">$!message.text($bean.to)</td>
    					<td onclick="window.location.href='MailOutboxDetail?id=$!{bean.id}';">$!message.text($bean.subject)</td>
    				</tr>
    			#end

    			#if ($listparam.count == 0)
        			<tr>
    					<td colspan="5">${placeholderWithTranslation.KeineDatengefunden}</td>
        			</tr>
        		#end

    			#set($itemName = "E-Mails")
    			#parse("inc/list-navi-new.vm")
    			#parse("inc/list-direct-new.vm")
    		</table>

    	</div>
    </div>

</form>

#parse("inc/footer.vm")
