#set($activeMenu = "Administration")
#set($title = "Funktion/Amtsbezeichnung")
#set($elementNameSex = "female")
#set($elementNameSingular = "Funktion/Amtsbezeichnung")
#set($elementNamePlural = "Funktionen/Amtsbezeichnungen")

##Values in per cent for table columns width
#set($column0 = 3)
#set($column1 = 5)
#set($column2 = 93)

#parse("inc/header.vm")

<div id="content_container">

	<div id="breadcrumb" class="textRight marginBottom10">
	    	<strong>${placeholderWithTranslation.siesindhier}:</strong> <span><a href="${paths.staticWeb}do/" title="${placeholderWithTranslation.zurstartseite}">${placeholderWithTranslation.home}</a> > ${placeholderWithTranslation.administration} > ${placeholderWithTranslation.funktionenamtsbezeichnungen}</span>
	</div>

	<h1>${placeholderWithTranslation.funktionenamtsbezeichnungen}</h1>

	<form id="formlist" name="formlist" action="Function" method="POST">
		<input type="hidden" name="doInsert" value="true">
		<input type="hidden" name="doUpdate" value="true">
		<input type="hidden" name="doRemove" value="true">
		<input type="hidden" name="start" value="">
		<input type="hidden" name="selectNone" value="true">
		<input type="hidden" name="limit" value="" />

		<span class="inlineLabel" id="actionPanel">
			<strong>${placeholderWithTranslation.markiertebezeichnunge}</strong>
			<input type="submit" name="remove" value="${placeholderWithTranslation.loschen}" class="button" title="${placeholderWithTranslation.markierteeintrageentfernen}">
		</span>

		<div id="main_content">

			#if($listerrors.size() > 0)
			<vera-warn>
				#foreach($error in $listerrors)
					$error<br>
				#end
			</vera-warn>
			#end

			#foreach($bean in $list)
			<input type="hidden" name="list" value="$bean.id">
			#end
			<table class="fixed">
				##Set column size
				<col width="$column0%" />
				<col width="$column1%" />
				<col width="$column2%" />

				<tr>
					<th class="smallCell textCenter"><input type="checkbox" name="toggleAllSelect" id="toggleAllSelect" title="${placeholderWithTranslation.alledemarkieren}" #if($listselection.size() == $list.size()) checked#end/></th>
					<th class="smallCell textCenter">${placeholderWithTranslation.id}</th>
					<th>${placeholderWithTranslation.bezeichnung}</th>
				</tr>
				<tr>
					<td class="textCenter"><input type="hidden" id="add-modified" name="add-modified" value="false"><input type="checkbox" name="add-select" value="true" style="display: none;"></td>
					<td class="textCenter"><input type="hidden" name="add-id" value=""><em>${placeholderWithTranslation.neu}</em></td>
					<td><input type="text" name="add-name" maxlength="300" value=""></td>

				</tr>
				#foreach($bean in $list)
				<tr>
					<td><input type="hidden" id="${bean.id}-modified" name="${bean.id}-modified" value="false"><input type="checkbox" name="${bean.id}-select" value="true"></td>
					<td><input type="hidden" name="${bean.id}-id" value="$!bean.id">$!bean.id</td>
					<td><input type="text" name="${bean.id}-name" value="$!message.text($bean.name)" onchange="setModified('$!bean.id')"></td>
				</tr>
				#end

    			#if ($listparam.count == 0)
                    <tr>
						<td colspan="99">${placeholderWithTranslation.eswurdenkeinedatengefunden}</td>
					</tr>
    			#end

				#set($itemName = "Funktionen/Amtsbezeichnungen")
				#parse("inc/list-navi-new.vm")
				#parse("inc/list-direct-new.vm")
			</table>


			<div class="textRight marginTop10" id="buttonPanel-bottom">
				<input id="buttonSave" type="submit" name="save" value="${placeholderWithTranslation.speichern}" title="${placeholderWithTranslation.speichern}" class="mainButton">
			</div>

		</div>

	</form>
</div>

<script>
$(function () {
    $('[name=add-name]').keydown(function (event) {
        if(event.which === 13){
            event.preventDefault();
            $('#buttonSave').trigger('click');
        } else {
            setModified('add');
        }
    });
});
</script>

#parse("inc/footer.vm")
