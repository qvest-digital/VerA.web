<script type="text/javascript">
   function readImage(input) {
       if ( input.files && input.files[0] ) {
           var FR= new FileReader();
           FR.onload = function(e) {
                $('#img').attr( "src", e.target.result );
                $('#base').val(e.target.result);
           };
           FR.readAsDataURL( input.files[0] );
       }
   }

   $("#asd").change(function(){
       readImage( this );
        $('div.fakeButton').text('${placeholderWithTranslation.CONTACT_PICTURE_CHANGE}');
   });


   function upload(){
	   document.getElementById('asd').click();
   }
</script>

<div class="table width100">
	<div>
		<div class="tableCell width20">
			<img id="img" src="/veraweb/images/boy-silhouette.jpg" style="border: 1px solid #000; width: 186px;"/><br/>

			<div id="input_container" style="width: 0px; height: 0px;">
				<input name="asd" id="asd" type="file" size="30" maxlength="100000" accept="image/png,image/jpg,image/jpeg"/>
			</div>

			<div class="button fakeButton" title="${placeholderWithTranslation.GENERIC_UPLOAD_BUTTON}" style="width: 174px;" onclick="upload();">
					${placeholderWithTranslation.CONTACT_PICTURE_UPLOAD}
             </div>

			<input id="base" type="hidden" name="baseInfoImage" />
		</div>

		<div class="tableCell width80">
			<div class="tableRow">
        		<div class="tableCell width50">
        			<label for="guest-invitationstatus$ext">${placeholderWithTranslation.GUEST_DETAIL_INVITATION_STATUS}</label>
        			<select id="guest-invitationstatus$ext" name="guest-invitationstatus$ext" >
        				<option value="0" #if(0 == $facade.InvitationStatus) selected#end>${placeholderWithTranslation.GENERIC_STATUS_OPEN}</option>
        				<option value="1" #if(1 == $facade.InvitationStatus) selected#end>${placeholderWithTranslation.GENERIC_STATUS_ACCEPT}</option>
        				<option value="2" #if(2 == $facade.InvitationStatus) selected#end>${placeholderWithTranslation.GENERIC_STATUS_DECLINE}</option>
        				<option value="3" #if(3 == $facade.InvitationStatus) selected#end>${placeholderWithTranslation.GENERIC_STATUS_PARTICIPATED}</option>
        			</select>
        		</div>
        		<div class="tableCell width50">
        			<div style="display: inline-block; width: 49%;">
        				<label for="guest-tableno$ext">${placeholderWithTranslation.GUEST_DETAIL_SEAT_NUMBER}</label>
        				<input type="text" id="guest-tableno$ext" name="guest-tableno$ext" value="$!message.text($facade.TableNo)" />
        			</div>
        			<div style="width: 49%; float: right;">
        				<label for="guest-seatno$ext">${placeholderWithTranslation.GUEST_DETAIL_TABLE_NUMBER}</label>
        				<input type="text" id="guest-seatno$ext" name="guest-seatno$ext" value="$!message.text($facade.SeatNo)" />
        			</div>
        		</div>
        	</div>
        	<div class="tableRow">
        		<div class="tableCell width50 inlineLabel">
        			<strong>${placeholderWithTranslation.GENERIC_IN_COUNTRY}</strong><br />
        			#if ($facade.Domestic && $facade.Domestic == "f")
        				<input type="radio" name="guest-domestic$ext" value="t" id="guest-domestic${ext}-t"><label for="guest-domestic${ext}-t">
                        ${placeholderWithTranslation.GENERIC_YES}</label>
        				<input type="radio" name="guest-domestic$ext" value="f" id="guest-domestic${ext}-f" checked><label for="guest-domestic${ext}-f">
                        ${placeholderWithTranslation.GENERIC_NO}</label>
        			#else
        				<input type="radio" name="guest-domestic$ext" value="t" id="guest-domestic${ext}-t" checked><label for="guest-domestic${ext}-t">
                        ${placeholderWithTranslation.GENERIC_YES}</label>
        				<input type="radio" name="guest-domestic$ext" value="f" id="guest-domestic${ext}-f"><label for="guest-domestic${ext}-f">
                        ${placeholderWithTranslation.GENERIC_NO}</label>
        			#end
        		</div>
        		<div class="tableCell width50">
        			<label for="guest-language$ext">${placeholderWithTranslation.GENERIC_LANGUAGES}</label>
        			<input type="text" id="guest-language$ext" name="guest-language$ext" value="$!message.text($facade.Languages)" />
        		</div>
        	</div>
        	<div class="tableRow">
        		<div class="tableCell width50 inlineLabel">
        			<strong>${placeholderWithTranslation.GENERIC_GENDER}</strong><br />
        			#if ($facade.Sex && $facade.Sex == "f")
        				<input type="radio" name="guest-sex$ext" value="m" id="guest-sex${ext}-m"><label for="guest-sex${ext}-m">
                        ${placeholderWithTranslation.GENERIC_GENDER_MALE}</label>
        				<input type="radio" name="guest-sex$ext" value="f" id="guest-sex${ext}-f" checked><label for="guest-sex${ext}-f">
                        ${placeholderWithTranslation.GENERIC_GENDER_FEMALE}</label>
        			#else
        				<input type="radio" name="guest-sex$ext" value="m" id="guest-sex${ext}-m" checked><label for="guest-sex${ext}-m">
                        ${placeholderWithTranslation.GENERIC_GENDER_MALE}</label>
        				<input type="radio" name="guest-sex$ext" value="f" id="guest-sex${ext}-f"><label for="guest-sex${ext}-f">
                        ${placeholderWithTranslation.GENERIC_GENDER_FEMALE}</label>
        			#end
        		</div>
        		<div class="tableCell width50">
        			<label for="guest-nationality$ext">${placeholderWithTranslation.GENERIC_NATIONALITY_CITIZENSHIP}</label>
        			<input type="text" id="guest-nationality$ext" name="guest-nationality$ext" value="$!message.text($facade.Nationality)" >
        		</div>
        	</div>
        	<div class="tableRow">
        		<div class="tableCell width50">
        			<label for="guest-notehost$ext">${placeholderWithTranslation.GUEST_DETAIL_HINT_GUEST_HOST}</label>
        			<textarea id="guest-notehost$ext" name="guest-notehost$ext" #if($grants.mayReadRemarkFields())>$!message.textarea($facade.NoteHost)#else vera-disabled class="textdisabled">#end</textarea>
        		</div>
        		<div class="tableCell width50">
        			<label for="guest-noteorga$ext">${placeholderWithTranslation.GUEST_DETAIL_HINT_ORGANISATION_TEAM}</label>
        			<textarea id="guest-noteorga$ext" name="guest-noteorga$ext" #if($grants.mayReadRemarkFields())>$!message.textarea($facade.NoteOrga)#else vera-disabled class="textdisabled">#end</textarea>
        		</div>
        	</div>
        	<div class="tableRow">
        		<div class="tableCell width50">
        			<label>${placeholderWithTranslation.GENERIC_COLOR_SINGULAR}</label>
        			<input type="hidden" name="guest-fk_color$ext" value="$!facade.ColorFK">
        			<input type="text" name="showguest-color$ext" value="$!message.text($facade.Color)" vera-disabled class="textdisabled">
        		</div>
        		<div class="tableCell width50"></div>
        	</div>
		</div>
	</div>

</div>
